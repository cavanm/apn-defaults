<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Tue May 27 19:23:04 PDT 2014 -->
<title>ApnDefaults</title>
<meta name="date" content="2014-05-27">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ApnDefaults";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/softcoil/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/softcoil/ApnDefaults.html" target="_top">Frames</a></li>
<li><a href="ApnDefaults.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.softcoil</div>
<h2 title="Class ApnDefaults" class="title">Class ApnDefaults</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.softcoil.ApnDefaults</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ApnDefaults</span>
extends java.lang.Object</pre>
<div class="block">This class is for building and using a public source of MMSC APN data for use when access to
 the device APN data is not available. For instance when developing MMS apps for Android 4.2, 4.3.

 The class provides an in-app source for APN MMSC info for use as a fallback in
 the event that the system APN DB is unavailable and the user has not provided
 local MMSC configuration details of their own.

 It also provides a way for working APN configurations to report their parameters to a
 central source so that the data can be integrated into this class and shared with the
 public.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil">ApnDefaults.ApnParameters</a></strong></code>
<div class="block">Parameters necessary to establish a connection to a MMSC.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil">ApnDefaults.ApnParameters</a></code></td>
<td class="colLast"><code><strong><a href="../../com/softcoil/ApnDefaults.html#getApnParameters(Context)">getApnParameters</a></strong>(Context&nbsp;context)</code>
<div class="block">Get the default ApnParameters for the current carrier from the APN_PARAMETERS_MAP.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil">ApnDefaults.ApnParameters</a></code></td>
<td class="colLast"><code><strong><a href="../../com/softcoil/ApnDefaults.html#getApnParameters(Context, boolean)">getApnParameters</a></strong>(Context&nbsp;context,
                boolean&nbsp;fallBack)</code>
<div class="block">Get the default ApnParameters for the current carrier from the APN_PARAMETERS_MAP.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../com/softcoil/ApnDefaults.html#reportApnData(Context, com.softcoil.ApnDefaults.ApnParameters)">reportApnData</a></strong>(Context&nbsp;context,
             <a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil">ApnDefaults.ApnParameters</a>&nbsp;apnParameters)</code>
<div class="block">This method provides a means for clients to report new, good APN connection parameters
 to a central repository so that they can be integrated with this class and shared with
 the public.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getApnParameters(Context, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApnParameters</h4>
<pre>public static&nbsp;<a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil">ApnDefaults.ApnParameters</a>&nbsp;getApnParameters(Context&nbsp;context,
                                         boolean&nbsp;fallBack)</pre>
<div class="block">Get the default ApnParameters for the current carrier from the APN_PARAMETERS_MAP. This uses
 a combination of SIM MCCMNC, SIM operator name, network MCCMNC, and network name to try to
 determine the correct parameters to use.

 If there is no match and fallback is true the method will attempt to return a match on the
 SIM MCCMNC only. This will help in many cases but will return incorrect parameters in others.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The current context.</dd><dd><code>fallBack</code> - Should we attempt to fallback on matching just the SIM MCCMNC if we don't
                 find a match for the full key?</dd>
<dt><span class="strong">Returns:</span></dt><dd>The ApnParameters or null.</dd></dl>
</li>
</ul>
<a name="getApnParameters(Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getApnParameters</h4>
<pre>public static&nbsp;<a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil">ApnDefaults.ApnParameters</a>&nbsp;getApnParameters(Context&nbsp;context)</pre>
<div class="block">Get the default ApnParameters for the current carrier from the APN_PARAMETERS_MAP. This uses
 a combination of SIM MCCMNC, SIM operator name, network MCCMNC, and network name to try to
 determine the correct parameters to use.

 Fall back on using only the SIM MCCMNC if we don't have a match for the full key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The current context.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The ApnParameters or null.</dd></dl>
</li>
</ul>
<a name="reportApnData(Context, com.softcoil.ApnDefaults.ApnParameters)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reportApnData</h4>
<pre>public static&nbsp;void&nbsp;reportApnData(Context&nbsp;context,
                 <a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil">ApnDefaults.ApnParameters</a>&nbsp;apnParameters)</pre>
<div class="block">This method provides a means for clients to report new, good APN connection parameters
 to a central repository so that they can be integrated with this class and shared with
 the public.

 It contains protections so that new ApnParameters are only reported to the server the first
 time this method is called. In addition, it uses a short connection timeout so it can be
 safely called from your current worker thread without worry that it will unnecessarily
 delay your process.

 It should be called immediately after successfully sending a MMS message. Example:<br/>
  <pre>
  //Send your MMS using whatever method you currently use.
  byte[] response = myMmsHttpPost(mmscUrl, mmsProxy, mmsProxyPort, sendReqPdu);

  //Parse the response.
  SendConf sendConf = (SendConf) new PduParser(response).parse();

  //Check to see if the response was success.
  if(sendConf != null && sendConf.getResponseStatus() == PduHeaders.RESPONSE_STATUS_OK) {
      //Report the ApnParameters used for the post.
      ApnParameters parameters = new ApnParameters(mmscUrl, mmsProxy, mmsProxyPort);
      ApnDefaults.reportApnData(context, parameters);
  }

  //Continue your process.
  ...
  </pre>

  In order for this class to be useful we must collect data from as many working
  configurations as possible. Adding a call to this method after a successful MMSC operation
  in your app will help us all to provide a good MMS experience to our users.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - The current context.</dd><dd><code>apnParameters</code> - The known good ApnParameters to report.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../com/softcoil/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../com/softcoil/ApnDefaults.ApnParameters.html" title="class in com.softcoil"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?com/softcoil/ApnDefaults.html" target="_top">Frames</a></li>
<li><a href="ApnDefaults.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
